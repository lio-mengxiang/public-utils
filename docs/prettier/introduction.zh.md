# ğŸ”¥ Prettier é€Ÿé…æŒ‡å—

## ğŸš€ æ ¸å¿ƒé—®é¢˜æ¦‚è§ˆ

- ä»€ä¹ˆæ˜¯ Prettierï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿ
- Prettier å’Œ ESLint éƒ½æœ‰æ ¼å¼åŒ–ä»£ç çš„ä½œç”¨ï¼Œæ‰€ä»¥å¦‚ä½•è§£å†³å¯¹åŒä¸€æ ·å¼æ ¼å¼åŒ–çš„å†²çªï¼Ÿ
- Prettier é…ç½®æ–‡ä»¶çš„å¸¸ç”¨å­—æ®µå«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ
- vscode å¦‚ä½•é…ç½®ï¼Ÿ

## ä»€ä¹ˆæ˜¯ Prettierï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿ 

ä¸€ä¸ªå›¢é˜Ÿå¤šä¸ªå‰ç«¯åŒå­¦åœ¨ç»´æŠ¤ä¸€ä¸ªé¡¹ç›®æ˜¯éå¸¸å¸¸è§çš„äº‹æƒ…ã€‚æ­¤æ—¶ï¼Œä¸€è‡´çš„ä»£ç ç¼–å†™é£æ ¼å°±å¾ˆå¿…è¦äº†ã€‚

>ä»£ç ç¼–å†™é£æ ¼é—®é¢˜æ˜¯ï¼Œä¾‹å¦‚ï¼šç¼©è¿›ä½¿ç”¨ tab è¿˜æ˜¯ç©ºæ ¼ã€‚éœ€è¦æ³¨æ„ prettier ä¸ç›‘æµ‹ä»£ç è´¨é‡é—®é¢˜ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨æœªå£°æ˜å˜é‡ï¼Œæç¤ºé”™è¯¯ã€‚

å¹¶ä¸”å¦‚æœå¯ä»¥æ”¯æŒè‡ªåŠ¨æ ¼å¼åŒ–ï¼Œä¾‹å¦‚æŒ‰ä½ `ctrl + c` ä¿å­˜ä»£ç æ—¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬æŠŠä»£ç æ ¼å¼åŒ–ä¸ºå›¢é˜Ÿçº¦å®šçš„ç»Ÿä¸€é£æ ¼ï¼Œè¿™å¯å¤ªæ£’äº†ï¼

Prettier å°±æ˜¯è¿™æ ·çš„å·¥å…·ã€‚


## Prettier å’Œ ESLint éƒ½æœ‰æ ¼å¼åŒ–ä»£ç çš„ä½œç”¨ï¼Œæ‰€ä»¥å¦‚ä½•è§£å†³å†²çªï¼Ÿ


ESLintï¼ˆåŒ…æ‹¬å…¶ä»–ä¸€äº› lint å·¥å…·ï¼‰çš„ä¸»è¦åŠŸèƒ½åŒ…å«ä»£ç æ ¼å¼å’Œä»£ç è´¨é‡çš„æ ¡éªŒï¼Œè€Œ Prettier åªæ˜¯ä»£ç æ ¼å¼çš„æ ¡éªŒï¼Œä¸ä¼šå¯¹ä»£ç è´¨é‡è¿›è¡Œæ ¡éªŒã€‚

æ‰€ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®åŒæ—¶é…ç½® Prettier å’Œ ESLint çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½å‡ºç°æ ¼å¼åŒ–å†²çªã€‚


è§£å†³å†²çªçš„æ–¹æ¡ˆä¸‹ä¸€èŠ‚ä¼šæœ‰ä»‹ç»ï¼Œæ€æƒ³å°±æ˜¯è¦†ç›– ESLint å’Œ Prettier å†²çªçš„è§„åˆ™ã€‚

æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬åœ¨ ESLint çš„é…ç½®æ–‡ä»¶ä¸­å»å†™è¦†ç›–å†²çªçš„è§„åˆ™ï¼Œä»¥ä¸‹æ˜¯ .eslintrc.js æ–‡ä»¶å…³äº Prettier éƒ¨åˆ†é…ç½®ï¼š

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº› prettier æ’ä»¶æ¥å¸®åŠ©æˆ‘ä»¬ï¼Œ

```javascript
# å®‰è£… prettier
ni -D prettier

# å®‰è£… prettier æ•´åˆ eslint çš„åº“
ni -D eslint-plugin-prettier eslint-config-prettier
```

ç„¶åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œ.eslintrc.js æ–‡ä»¶ä¸­åŠ å…¥æœ‰å…³ prettier çš„é…ç½®ï¼š

```Javascript
 {
  "extends": [
    "prettier"
  ],
  "plugins": ["prettier"],
  "rules": {
    "prettier/prettier": "error",
    'arrow-body-style': 'off'
    'prefer-arrow-callback': 'off',
  }
}
```
å‚æ•°è§£è¯»ï¼š
- extends: ['prettier']: é€šè¿‡ eslint-config-prettier å…³é—­ eslint å’Œprettier ç›¸å†²çªçš„è§„åˆ™ã€‚
- plugins: ['prettier']: åŠ è½½ eslint-plugin-prettierï¼Œèµ‹äºˆ eslint ç”¨ prettier æ ¼å¼åŒ–æ–‡æ¡£çš„åŠŸèƒ½
- 'prettier/prettier': 'error': è®©ä»£ç æ–‡ä»¶ä¸­ä¸ç¬¦åˆ prettier æ ¼å¼åŒ–è§„åˆ™çš„éƒ½æ ‡è®°ä¸ºé”™è¯¯ï¼Œç»“åˆ vscode eslint æ’ä»¶ä¾¿å¯ä»¥çœ‹åˆ°è¿™äº›é”™è¯¯è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œå½“è¿è¡Œ eslint --fix å‘½ä»¤æ—¶ï¼Œå°†è‡ªåŠ¨ä¿®å¤è¿™äº›é”™è¯¯ã€‚
- arrow-body-style å’Œ prefer-arrow-callback: è¿™ä¸¤ä¸ªè§„åˆ™åœ¨eslint å’Œ prettier ä¸­å­˜åœ¨ä¸å¯è§£å†³çš„å†²çªï¼Œæ‰€ä»¥å…³é—­æ‰ã€‚

è¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼Œæœ‰äº›åŒå­¦ä¸çŸ¥é“ ESLint ä¸­ extends å­—æ®µï¼Œplugins å­—æ®µï¼Œè¿˜æœ‰ rules å­—æ®µçš„æ„æ€ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š

- extendsï¼šå¯ä»¥çœ‹åšæ˜¯å»é›†æˆä¸€ä¸ªä¸ªé…ç½®æ–¹æ¡ˆçš„æœ€ä½³å®è·µï¼Œæ³¨æ„ eslint-config å¼€å¤´çš„npmåŒ…ï¼Œä½¿ç”¨æ—¶å¯ä»¥çœç•¥ eslint-config-ï¼Œä¾‹å¦‚ eslint-config-prettier ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ç›´æ¥åªå†™ prettier
- pluginsï¼šæ’ä»¶ä¸€ä¸ªä¸»è¦çš„ä½œç”¨å°±æ˜¯è¡¥å……è§„åˆ™ï¼Œæ¯”å¦‚ eslint:recommended ä¸­æ²¡æœ‰æœ‰å…³ react çš„è§„åˆ™ï¼Œåˆ™éœ€è¦å¦å¤–å¯¼å…¥è§„åˆ™æ’ä»¶ eslint-plugin-reactã€‚åŒæ—¶ï¼Œpluginså±æ€§å€¼å¯ä»¥çœç•¥åŒ…åçš„å‰ç¼€ eslint-plugin-ã€‚æ‰€ä»¥ eslint-plugin-prettier æ’ä»¶å¯ä»¥å†™æˆ prettier
- rulesï¼šä¸Šé¢å®šä¹‰çš„åŸºæœ¬è§„åˆ™ï¼Œå¯ä»¥åœ¨ rules ä¸­å†æ¬¡è¦†ç›–

## ç®€åŒ–é…ç½®

å…¶å®å¯ä»¥ç®€åŒ–ä¸Šé¢çš„ prettier é…ç½®ï¼Œå¦‚ä¸‹ï¼š
```javascript
{
  "extends": ["plugin:prettier/recommended"]
}
```

å®˜æ–¹æ–‡æ¡£æç¤ºï¼Œè¿™è·Ÿä¸Šé¢æåˆ°çš„çš„ prettier é…ç½®æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨è¿™ä¸ªé…ç½®è¦†ç›– Eslintã€‚

## Prettier é…ç½®å­—æ®µè¯¦è§£

é™¤äº†è¦†ç›– ESLint å†²çªçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è‡ªå·±é…ç½®ä¸€ä¸‹ï¼Œå¦‚ä½•æ ¼å¼åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚

é¦–å…ˆï¼Œæ–°å»º .prettierrc.js æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```javascript
module.exports = {
  /**
   * @zh è¡Œå°¾éœ€è¦æœ‰åˆ†å·
   * @en A semicolon is required at the end of the line
   */
  semi: true,
  /**
   * @zh ä½¿ç”¨å•å¼•å·
   * @en use single quotes
   */
  singleQuote: true,
  /**
   * @zh Jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å·
   * @en Instead of using single quotes, use double quotes in Jsx
   */
  jsxSingleQuote: false,
  /**
   * @zh ä¸ä½¿ç”¨ Tab ç¼©è¿›ï¼Œè€Œä½¿ç”¨ç©ºæ ¼
   * @en Instead of using Tab indent, use spaces
   */
  useTabs: false,
  /**
   * @zh ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›
   * @en Indent with 2 spaces
   */
  tabWidth: 2,
  /**
   * @zh ä¸€è¡Œæœ€å¤š 140 å­—ç¬¦
   * @en Maximum 140 characters per line
   */
  printWidth: 140,
}
```


## æ³¨æ„

åœ¨ vscode ä¸­ï¼Œå¦‚æœä¿®æ”¹äº† .prettierrc.js çš„é…ç½®é€‰é¡¹åï¼Œå‘ç° eslint å’Œ prettier å†²çªäº†ï¼Œéœ€è¦é‡å¯ vscodeï¼Œä»¥å…ä½¿ç”¨ç¼“å­˜ï¼Œä¸èƒ½åŠæ—¶æ›´æ–°é…ç½®ã€‚

## vscode é…ç½®ä¿å­˜æ—¶æ ¼å¼åŒ–ï¼ˆ

- é¦–å…ˆï¼Œåœ¨ vscode å•†åº—è¾“å…¥ prettierï¼Œç„¶åä¸‹è½½ prettier æ’ä»¶, æ¥ç€ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‰ `Ctrl + Shift + P`ï¼ˆæˆ– macOS ä¸Šçš„ `Cmd + Shift + P`ï¼‰æ‰“å¼€å‘½ä»¤é¢æ¿é€šè¿‡è¾“å…¥ prettier å­—ç¬¦ï¼Œæ¥éªŒè¯æ˜¯å¦ prettier å‘½ä»¤å¯ç”¨ã€‚
![alt text](./images/vscode-prettier.png)

- æ¥ç€å¯åŠ¨ï¼Œé€‰æ‹© æ–‡ä»¶ > é¦–é€‰é¡¹ > è®¾ç½®ï¼ˆæˆ–åœ¨ macOS ä¸Šä½¿ç”¨ Cmd + ï¼‰ï¼Œåœ¨æœç´¢æ è¾“å…¥ `Format on Save` , ç„¶åå‹¾é€‰ Editorï¼š`Format on Save`
![alt text](./images/format-on-save.png)


